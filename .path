#!/usr/bin/env bash

PLATFORM=$(/usr/bin/uname)
export PLATFORM

# go path
export GOPATH="${HOME}/.go"

case $PLATFORM in
Linux)
	export HOMEBREW_PREFIX="/home/linuxbrew/.linuxbrew";
	export HOMEBREW_CELLAR="/home/linuxbrew/.linuxbrew/Cellar";
	export HOMEBREW_REPOSITORY="/home/linuxbrew/.linuxbrew/Homebrew";
	export MANPATH="/home/linuxbrew/.linuxbrew/share/man${MANPATH+:$MANPATH}:";
	export INFOPATH="/home/linuxbrew/.linuxbrew/share/info:${INFOPATH:-}";

	# update path
	export PATH=/home/linuxbrew/.linuxbrew/bin:/usr/local/bin:${PATH}:/sbin:/home/linuxbrew/.linuxbrew/sbin:/usr/local/sbin
	;;
Darwin)
	export HOMEBREW_PREFIX="/usr/local";
	export HOMEBREW_CELLAR="/usr/local/Cellar";
	export HOMEBREW_REPOSITORY="/usr/local/Homebrew";
	export MANPATH="/usr/local/share/man${MANPATH+:$MANPATH}:";
	export INFOPATH="/usr/local/share/info:${INFOPATH:-}";

	# update path
	export PATH=/usr/local/bin:${PATH}:/sbin:/usr/local/sbin

	# add gnubin for mac
	export PATH="/usr/local/opt/gnu-sed/libexec/gnubin:${PATH}"
	
	# add gnu getopt
	export PATH="/usr/local/opt/gnu-getopt/bin:${PATH}"

	# update path for gnu coreutils, make & find on darwin
	export PATH=/usr/local/opt/coreutils/libexec/gnubin:${PATH}
	export MANPATH=/usr/local/opt/coreutils/libexec/gnuman:${MANPATH}
	export PATH=/usr/local/opt/make/libexec/gnubin:${PATH}
	export MANPATH=/usr/local/opt/make/libexec/gnuman:${MANPATH}
	export PATH=/usr/local/opt/findutils/libexec/gnubin:${PATH}
	export MANPATH=/usr/local/opt/findutils/libexec/gnuman:${MANPATH}
	
	# shellcheck source=/dev/null
	if [ -r "/usr/local/etc/profile.d/bash_completion.sh" ]; then . "/usr/local/etc/profile.d/bash_completion.sh"; fi
	;;
esac

# add go path
export PATH="${GOPATH}/bin:${PATH}"

# update cdpath
export CDPATH=${CDPATH}:${GOPATH}/src/github.com:${GOPATH}/src/golang.org:${GOPATH}/src